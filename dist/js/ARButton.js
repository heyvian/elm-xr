class ARButton{static createButton(t,e={}){const n=document.querySelector(".js-start-webxr");function showARNotSupported(){!function disableButton(){n.style.display="",n.classList.add("is-disabled"),n.setAttribute("disabled","disabled")}(),n.textContent="Device does not support AR"}if("xr"in navigator)return n.id="ARButton",n.style.display="none",navigator.xr.isSessionSupported("immersive-ar").then((function(o){o?function showStartAR(){if(void 0===e.domOverlay){var o=document.createElement("div");o.style.display="none",document.body.appendChild(o);var s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("width",38),s.setAttribute("height",38),s.style.position="absolute",s.style.right="20px",s.style.top="20px",s.addEventListener("click",(function(){r.end()})),o.appendChild(s);var i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("d","M 12,12 L 28,28 M 28,12 12,28"),i.setAttribute("stroke","#fff"),i.setAttribute("stroke-width",2),s.appendChild(i),void 0===e.optionalFeatures&&(e.optionalFeatures=[]),e.optionalFeatures.push("dom-overlay"),e.domOverlay={root:o}}let r=null;async function onSessionStarted(o){o.addEventListener("end",onSessionEnded),await t.xr.setSession(o),n.textContent="Close AR session",e.domOverlay.root.style.display="",r=o}function onSessionEnded(){r.removeEventListener("end",onSessionEnded),n.textContent="Place Elm",e.domOverlay.root.style.display="none",r=null}n.style.display="",n.textContent="Place Elm",n.onmouseenter=function(){n.style.opacity="1.0"},n.onmouseleave=function(){n.style.opacity="0.75"},n.onclick=function(){null===r?navigator.xr.requestSession("immersive-ar",e).then(onSessionStarted):r.end()}}():showARNotSupported()})).catch(showARNotSupported),n;{const t=document.createElement("a");return!1===window.isSecureContext?(t.href=document.location.href.replace(/^http:/,"https:"),t.innerHTML="WEBXR NEEDS HTTPS"):(t.href="https://immersiveweb.dev/",t.innerHTML="WEBXR NOT AVAILABLE"),t.style.left="calc(50% - 90px)",t.style.width="180px",t.style.textDecoration="none",function stylizeElement(t){t.style.position="absolute",t.style.bottom="20px",t.style.padding="12px 6px",t.style.border="1px solid #fff",t.style.borderRadius="4px",t.style.background="rgba(0,0,0,0.1)",t.style.color="#fff",t.style.font="normal 13px sans-serif",t.style.textAlign="center",t.style.opacity="0.5",t.style.outline="none",t.style.zIndex="999"}(t),t}}}export{ARButton};